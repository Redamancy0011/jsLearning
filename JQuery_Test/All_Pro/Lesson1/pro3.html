<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="mydiv">
    <input type="submit" value="新歌榜" class="search" id = "search"/>
</div>
<div class = "div2">
    <div>歌曲: <span id = "auther"></span></div>
    <div>歌名: <span id = "name"></span></div>
    <div>封面: <img id = "picUrl" width="400" height="500"></div>
    <div>歌曲：<audio id = "url" autoplay="true" controls></audio></div>
</div>
<script>
    window.addEventListener('load',function (){
        var btn = document.getElementById("search");
        window.addEventListener('click',function (){
            var url = 'https://api.vvhan.com/api/rand.music?type=json&sort=新歌榜';
            fetch(url)
                .then(response =>response.json())
                .then(data=>{
                    document.getElementById('auther').innerText=data.info.auther;
                    document.getElementById('name').innerHTML=data.info.name;
                    document.getElementById('picUrl').src=data.info.picUrl;
                    document.getElementById('url').src=data.info.mp3url;
                })
                .catch(error=>alert(error));
        })
    })
</script>
</body>
</html>